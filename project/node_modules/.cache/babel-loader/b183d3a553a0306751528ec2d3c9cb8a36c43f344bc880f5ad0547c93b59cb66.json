{"ast":null,"code":"import axios from \"axios\";\nimport { getRecipes, getCtegory } from './actions';\nimport * as actiontype from './actions';\nimport Swal from \"sweetalert2\";\nconst initialState = {\n  userId: null,\n  recipes: [],\n  selected: null,\n  shoppingList: []\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actiontype.GET_SHOPPING_LIST:\n      axios.get(`http://localhost:8080/api/bay/${state.userId}`).then(data => {\n        state.shoppingList = [...data.data];\n      }).catch(() => {});\n      return {\n        ...state\n      };\n    case actiontype.ADD_SHOPPING_LIST:\n      return;\n    case actiontype.LOG_OUT:\n      return {\n        ...state,\n        userId: null,\n        selected: null,\n        recipes: []\n      };\n    case actiontype.LOG_IN:\n      return {\n        ...state,\n        userId: action.UserId\n      };\n    case actiontype.GET_RECIPES:\n      const recipes = [...state.recipes];\n      recipes.push(action.recipe);\n      return {\n        ...state,\n        recipes: recipes\n      };\n    case actiontype.ADD_RECIPE:\n      axios.post(`http://localhost:8080/api/recipe`, action.add).then(x => {\n        Swal.fire({\n          position: \"top\",\n          icon: \"success\",\n          title: \" yey 🤤 המתכון נוסף!\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }).catch(() => Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"הופסת מתכון נכשלה\",\n        footer: '<a href=\"#\">חזרה להופסת מתכון?</a>'\n      }));\n      return {\n        ...state,\n        recipes: [...state.recipes, action.add]\n      };\n    case actiontype.DELETE_RECIPE:\n      axios.post(`http://localhost:8080/api/recipe/delete/${action.Id}`).then(x => {\n        Swal.fire({\n          position: \"top\",\n          icon: \"success\",\n          title: \"המתכון נמחק\",\n          showConfirmButton: false,\n          timer: 1000\n        });\n      }).catch(() => Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"שגיאה במחיקת מתכון\",\n        footer: '<a href=\"#\">חזרה למתכונים</a>'\n      }));\n      return {\n        ...state\n      };\n    case actiontype.EDIT_RECIPE:\n      axios.post(`http://localhost:8080/api/recipe/edit`, action.add).then(x => {\n        Swal.fire({\n          position: \"top\",\n          icon: \"success\",\n          title: \" yey 🤤 המתכון עודכן!\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }).catch(data => Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"שגיאה בעריכת מתכון\",\n        footer: '<a href=\"#\">חזרה למתכונים</a>'\n      }));\n      return {\n        ...state\n      };\n    case actiontype.SET_CATEGORY:\n      return {\n        ...state,\n        selected: action.selected\n      };\n    default:\n      return {\n        ...state\n      };\n  }\n};\nexport default reducer;","map":{"version":3,"names":["axios","getRecipes","getCtegory","actiontype","Swal","initialState","userId","recipes","selected","shoppingList","reducer","state","action","type","GET_SHOPPING_LIST","get","then","data","catch","ADD_SHOPPING_LIST","LOG_OUT","LOG_IN","UserId","GET_RECIPES","push","recipe","ADD_RECIPE","post","add","x","fire","position","icon","title","showConfirmButton","timer","text","footer","DELETE_RECIPE","Id","EDIT_RECIPE","SET_CATEGORY"],"sources":["C:/Users/ASUS/Desktop/REACT PROJECT/project/src/Store/reducer.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { getRecipes, getCtegory } from './actions'\r\nimport * as actiontype from './actions'\r\nimport Swal from \"sweetalert2\";\r\nconst initialState = {\r\n    userId: null,\r\n    recipes: [],\r\n    selected: null,\r\n    shoppingList:[],\r\n\r\n}\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actiontype.GET_SHOPPING_LIST:axios.get(`http://localhost:8080/api/bay/${state.userId}`).then(data=>{\r\n          state.shoppingList=[...data.data];\r\n        }).catch(()=>{})\r\n        return { ...state };\r\n        case actiontype.ADD_SHOPPING_LIST:\r\n           return\r\n        case actiontype.LOG_OUT: return { ...state, userId: null, selected: null, recipes: [] }\r\n        case actiontype.LOG_IN: return { ...state, userId: action.UserId }\r\n        case actiontype.GET_RECIPES: const recipes = [...state.recipes];\r\n            recipes.push(action.recipe);\r\n            return { ...state, recipes: recipes };\r\n        case actiontype.ADD_RECIPE: axios.post(`http://localhost:8080/api/recipe`, action.add)\r\n            .then((x) => { Swal.fire({\r\n                position: \"top\",\r\n                icon: \"success\",\r\n                title: \" yey 🤤 המתכון נוסף!\",\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n              }) }).catch(() => Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Oops...\",\r\n                text: \"הופסת מתכון נכשלה\",\r\n                footer: '<a href=\"#\">חזרה להופסת מתכון?</a>'\r\n              }));\r\n            return { ...state, recipes: [...state.recipes, action.add] }\r\n        case actiontype.DELETE_RECIPE: axios.post(`http://localhost:8080/api/recipe/delete/${action.Id}`).then((x) => { Swal.fire({\r\n            position: \"top\",\r\n            icon: \"success\",\r\n            title: \"המתכון נמחק\",\r\n            showConfirmButton: false,\r\n            timer: 1000\r\n          })})\r\n            .catch(() => \r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Oops...\",\r\n              text: \"שגיאה במחיקת מתכון\",\r\n              footer: '<a href=\"#\">חזרה למתכונים</a>'\r\n            })); return { ...state }\r\n        case actiontype.EDIT_RECIPE: axios.post(`http://localhost:8080/api/recipe/edit`, action.add)\r\n            .then((x) => { Swal.fire({\r\n                position: \"top\",\r\n                icon: \"success\",\r\n                title: \" yey 🤤 המתכון עודכן!\",\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n              }) }).catch((data) => Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Oops...\",\r\n                text: \"שגיאה בעריכת מתכון\",\r\n                footer: '<a href=\"#\">חזרה למתכונים</a>'\r\n              })); return { ...state }\r\n        case actiontype.SET_CATEGORY: return { ...state, selected: action.selected }\r\n        default: return { ...state }\r\n    }\r\n\r\n\r\n}\r\nexport default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}